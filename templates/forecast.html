{% extends "base.html" %}

{% block title %}Climate Forecast - Climate Portal{% endblock %}

{% block sidebar_controls %}
<div class="controls-section" style="border-top: 1px solid rgba(0,0,0,0.08);">
    <h6 class="control-label" style="font-size: 0.875rem; margin-bottom: 1.5rem;">
        <i class="fas fa-sliders-h"></i> Forecast Controls
    </h6>
    
    <div class="control-group">
        <label for="locationSelect" class="control-label">Location</label>
        <select id="locationSelect" class="form-select">
            <option value="punjab">ğŸ›ï¸ Punjab</option>
            <option value="sindh">ğŸŒ† Sindh</option>
            <option value="kpk">â›°ï¸ Khyber Pakhtunkhwa</option>
            <option value="balochistan">ğŸœï¸ Balochistan</option>
            <option value="gb">ğŸ”ï¸ Gilgit-Baltistan</option>
            <option value="ajk">ğŸŒ² Azad Kashmir</option>
        </select>
    </div>
    
    <div class="control-group">
        <label for="variableSelect" class="control-label">Climate Variable</label>
        <select id="variableSelect" class="form-select">
            <option value="temperature">ğŸŒ¡ï¸ Temperature</option>
            <option value="precipitation">ğŸŒ§ï¸ Precipitation</option>
            <option value="humidity">ğŸ’§ Humidity</option>
            <option value="wind_speed">ğŸ’¨ Wind Speed</option>
        </select>
    </div>
    
    <div class="control-group">
        <button id="updateForecast" class="btn btn-primary w-100">
            <i class="fas fa-crystal-ball"></i>
            <span>Generate Forecast</span>
        </button>
    </div>
    
    <div class="control-group" style="padding-top: 1.5rem; border-top: 1px solid rgba(0,0,0,0.08);">
        <h6 class="control-label" style="font-size: 0.875rem; margin-bottom: 0.75rem;">
            <i class="fas fa-info-circle"></i> About Forecasts
        </h6>
        <ul style="font-size: 0.875rem; color: var(--text-muted-light); line-height: 1.8; padding-left: 1.25rem; margin: 0;">
            <li>3-month predictions</li>
            <li>ML-based (Random Forest)</li>
            <li>Historical data training</li>
            <li>Confidence intervals</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block content_header %}
<div class="content-header">
    <div class="header-top">
        <div class="header-title">
            <h2>Climate Forecasts</h2>
            <p class="header-subtitle">Machine learning-based climate predictions for the next 3 months</p>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; gap: 1.5rem; flex: 1;">
    <div class="card" style="flex: 1; min-height: 500px;">
        <div id="forecastChart" style="width: 100%; height: 100%;"></div>
    </div>
    
    <div class="card">
        <h6 style="font-weight: 700; margin-bottom: 1rem;">
            <i class="fas fa-robot" style="color: var(--primary-color);"></i> Model Information
        </h6>
        <div id="modelInfo">
            <p style="color: var(--text-muted-light); margin: 0;">Select a location and variable, then click "Generate Forecast" to see predictions.</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ request.url_for('static', path='js/main.js') }}"></script>
{% endblock %}
